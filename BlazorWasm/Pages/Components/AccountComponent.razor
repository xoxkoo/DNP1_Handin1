@namespace Components
@using BlazorWasm.Services
@inject IAuthService authService
@inject NavigationManager navMgr

<header class="masthead" style="background-image: url('img/home-bg.jpg')">
	<div class="container position-relative px-4 px-lg-5">
		<div class="row gx-4 gx-lg-5 justify-content-center">
			<div class="col-md-10 col-lg-8 col-xl-7">
				<div class="site-heading">
					<h1>Hello, @username</h1>
					<span class="subheading">This is your account page ğŸ‘¨â€ğŸ’»</span>
				</div>
			</div>
		</div>
	</div>
</header>

<div class="form-holder">
	<button class="btn btn-danger" @onclick="Logout">Logout</button>
	<button @onclick="@(() => { navMgr.NavigateTo("/createpost");})" class="btn btn-primary">Create post</button>
</div>

@code {

    [Parameter] public string username { get; set; }
	private async Task Logout()
	{
		await authService.LogoutAsync();
		navMgr.NavigateTo("/");
	}

}
